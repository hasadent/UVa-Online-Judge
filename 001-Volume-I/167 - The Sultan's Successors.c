/****
 * 167 - The Sultan's Successors
 */
#include <stdio.h>
#include <string.h>

#ifdef FIND_POINTS

int _x[8];
int _y[8];
int _xpy[15];
int _xmy[15];

int _sty[8];

int check(int x, int y)
{
    return _x[x] == 0 && _y[y] == 0 &&
        _xpy[x+y] == 0 && _xmy[7+x-y] == 0;
}

void set(int x, int y)
{
    _x[x] = _y[y] = _xpy[x+y] = _xmy[7+x-y] = 1;
}

void unset(int x, int y)
{
    _x[x] = _y[y] = _xpy[x+y] = _xmy[7+x-y] = 0;
}

int _gcount = 0;

void find_all_case(int noq)
{
    int i;
    if (noq == 8)
    {
        _gcount ++;

        printf("{", _gcount);
        for (i = 0; i < 8; i++)
            printf("%d, ", _sty[i]);
        printf("},\n");
        return;
    }

    for (i = 0; i < 8; i++)
    {
        if (check(noq, i) == 1)
        {
            set(noq, i);

            _sty[noq] = i;

            find_all_case(noq+1);

            _sty[noq] = -1;

            unset(noq, i);
        }
    }
}
#endif // FIND_POINTS

int ys[][8] = {
{0, 4, 7, 5, 2, 6, 1, 3, },
{0, 5, 7, 2, 6, 3, 1, 4, },
{0, 6, 3, 5, 7, 1, 4, 2, },
{0, 6, 4, 7, 1, 3, 5, 2, },
{1, 3, 5, 7, 2, 0, 6, 4, },
{1, 4, 6, 0, 2, 7, 5, 3, },
{1, 4, 6, 3, 0, 7, 5, 2, },
{1, 5, 0, 6, 3, 7, 2, 4, },
{1, 5, 7, 2, 0, 3, 6, 4, },
{1, 6, 2, 5, 7, 4, 0, 3, },
{1, 6, 4, 7, 0, 3, 5, 2, },
{1, 7, 5, 0, 2, 4, 6, 3, },
{2, 0, 6, 4, 7, 1, 3, 5, },
{2, 4, 1, 7, 0, 6, 3, 5, },
{2, 4, 1, 7, 5, 3, 6, 0, },
{2, 4, 6, 0, 3, 1, 7, 5, },
{2, 4, 7, 3, 0, 6, 1, 5, },
{2, 5, 1, 4, 7, 0, 6, 3, },
{2, 5, 1, 6, 0, 3, 7, 4, },
{2, 5, 1, 6, 4, 0, 7, 3, },
{2, 5, 3, 0, 7, 4, 6, 1, },
{2, 5, 3, 1, 7, 4, 6, 0, },
{2, 5, 7, 0, 3, 6, 4, 1, },
{2, 5, 7, 0, 4, 6, 1, 3, },
{2, 5, 7, 1, 3, 0, 6, 4, },
{2, 6, 1, 7, 4, 0, 3, 5, },
{2, 6, 1, 7, 5, 3, 0, 4, },
{2, 7, 3, 6, 0, 5, 1, 4, },
{3, 0, 4, 7, 1, 6, 2, 5, },
{3, 0, 4, 7, 5, 2, 6, 1, },
{3, 1, 4, 7, 5, 0, 2, 6, },
{3, 1, 6, 2, 5, 7, 0, 4, },
{3, 1, 6, 2, 5, 7, 4, 0, },
{3, 1, 6, 4, 0, 7, 5, 2, },
{3, 1, 7, 4, 6, 0, 2, 5, },
{3, 1, 7, 5, 0, 2, 4, 6, },
{3, 5, 0, 4, 1, 7, 2, 6, },
{3, 5, 7, 1, 6, 0, 2, 4, },
{3, 5, 7, 2, 0, 6, 4, 1, },
{3, 6, 0, 7, 4, 1, 5, 2, },
{3, 6, 2, 7, 1, 4, 0, 5, },
{3, 6, 4, 1, 5, 0, 2, 7, },
{3, 6, 4, 2, 0, 5, 7, 1, },
{3, 7, 0, 2, 5, 1, 6, 4, },
{3, 7, 0, 4, 6, 1, 5, 2, },
{3, 7, 4, 2, 0, 6, 1, 5, },
{4, 0, 3, 5, 7, 1, 6, 2, },
{4, 0, 7, 3, 1, 6, 2, 5, },
{4, 0, 7, 5, 2, 6, 1, 3, },
{4, 1, 3, 5, 7, 2, 0, 6, },
{4, 1, 3, 6, 2, 7, 5, 0, },
{4, 1, 5, 0, 6, 3, 7, 2, },
{4, 1, 7, 0, 3, 6, 2, 5, },
{4, 2, 0, 5, 7, 1, 3, 6, },
{4, 2, 0, 6, 1, 7, 5, 3, },
{4, 2, 7, 3, 6, 0, 5, 1, },
{4, 6, 0, 2, 7, 5, 3, 1, },
{4, 6, 0, 3, 1, 7, 5, 2, },
{4, 6, 1, 3, 7, 0, 2, 5, },
{4, 6, 1, 5, 2, 0, 3, 7, },
{4, 6, 1, 5, 2, 0, 7, 3, },
{4, 6, 3, 0, 2, 7, 5, 1, },
{4, 7, 3, 0, 2, 5, 1, 6, },
{4, 7, 3, 0, 6, 1, 5, 2, },
{5, 0, 4, 1, 7, 2, 6, 3, },
{5, 1, 6, 0, 2, 4, 7, 3, },
{5, 1, 6, 0, 3, 7, 4, 2, },
{5, 2, 0, 6, 4, 7, 1, 3, },
{5, 2, 0, 7, 3, 1, 6, 4, },
{5, 2, 0, 7, 4, 1, 3, 6, },
{5, 2, 4, 6, 0, 3, 1, 7, },
{5, 2, 4, 7, 0, 3, 1, 6, },
{5, 2, 6, 1, 3, 7, 0, 4, },
{5, 2, 6, 1, 7, 4, 0, 3, },
{5, 2, 6, 3, 0, 7, 1, 4, },
{5, 3, 0, 4, 7, 1, 6, 2, },
{5, 3, 1, 7, 4, 6, 0, 2, },
{5, 3, 6, 0, 2, 4, 1, 7, },
{5, 3, 6, 0, 7, 1, 4, 2, },
{5, 7, 1, 3, 0, 6, 4, 2, },
{6, 0, 2, 7, 5, 3, 1, 4, },
{6, 1, 3, 0, 7, 4, 2, 5, },
{6, 1, 5, 2, 0, 3, 7, 4, },
{6, 2, 0, 5, 7, 4, 1, 3, },
{6, 2, 7, 1, 4, 0, 5, 3, },
{6, 3, 1, 4, 7, 0, 2, 5, },
{6, 3, 1, 7, 5, 0, 2, 4, },
{6, 4, 2, 0, 5, 7, 1, 3, },
{7, 1, 3, 0, 6, 4, 2, 5, },
{7, 1, 4, 2, 0, 6, 3, 5, },
{7, 2, 0, 5, 1, 4, 6, 3, },
{7, 3, 0, 2, 5, 1, 6, 4, },
};

int map[8][8];

int main()
{
#ifdef FIND_POINTS
    memset(_x, 0, sizeof(_x)*sizeof(int));
    memset(_y, 0, sizeof(_y)*sizeof(int));
    memset(_xpy, 0, sizeof(_xpy)*sizeof(int));
    memset(_xmy, 0, sizeof(_xmy)*sizeof(int));

    find_all_case(0);
    return;
#endif // FIND_POINTS


    int num;
    int i, j;
    int max, sum;

    scanf("%d", &num);
    while (num-- > 0)
    {
        for (i = 0; i < 8; i++)
            for (j = 0; j < 8; j++)
                scanf("%d", &map[i][j]);

        max = 0;
        sum = 0;
        for (i = 0; i < 92; i++)
        {
            sum = 0;

            for (j = 0; j < 8; j++)
                sum += map[j][ys[i][j]];


            if (sum > max)
                max = sum;

        }

        printf("%5d\n", max);
    }

#ifndef ONLINE_JUDGE
    system("pause");
#endif
    return 0;
}
